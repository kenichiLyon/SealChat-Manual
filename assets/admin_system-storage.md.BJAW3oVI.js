import{_ as s,o as i,c as e,ag as n}from"./chunks/framework.9PtxzSVj.js";const c=JSON.parse('{"title":"系统配置与存储","description":"全局配置、存储模式与 S3 迁移","frontmatter":{"title":"系统配置与存储","description":"全局配置、存储模式与 S3 迁移"},"headers":[],"relativePath":"admin/system-storage.md","filePath":"admin/system-storage.md","lastUpdated":1770388790000}'),t={name:"admin/system-storage.md"};function l(p,a,r,h,d,o){return i(),e("div",null,[...a[0]||(a[0]=[n(`<h1 id="系统配置与存储" tabindex="-1">系统配置与存储 <a class="header-anchor" href="#系统配置与存储" aria-label="Permalink to &quot;系统配置与存储&quot;">​</a></h1><h2 id="系统配置" tabindex="-1">系统配置 <a class="header-anchor" href="#系统配置" aria-label="Permalink to &quot;系统配置&quot;">​</a></h2><p>管理员可在管理后台调整全局配置，常见项包括：</p><ul><li>注册开关与验证码策略</li><li>邮箱验证与通知配置</li><li>登录页背景与主题样式</li><li>自动备份与保留策略</li><li>版本更新检查</li></ul><h3 id="登录页背景" tabindex="-1">登录页背景 <a class="header-anchor" href="#登录页背景" aria-label="Permalink to &quot;登录页背景&quot;">​</a></h3><p>可配置登录页背景图与展示方式，并调整透明度、模糊与亮度，适配不同主题风格。</p><h3 id="自动备份" tabindex="-1">自动备份 <a class="header-anchor" href="#自动备份" aria-label="Permalink to &quot;自动备份&quot;">​</a></h3><p>开启自动备份后系统会定期保存数据库快照，并保留指定数量的备份文件。</p><h3 id="邮件通知与验证" tabindex="-1">邮件通知与验证 <a class="header-anchor" href="#邮件通知与验证" aria-label="Permalink to &quot;邮件通知与验证&quot;">​</a></h3><p>邮件通知与邮箱验证共用 SMTP 配置。启用后可为频道设置邮件提醒，并用于注册验证与密码找回。</p><hr><h2 id="存储管理" tabindex="-1">存储管理 <a class="header-anchor" href="#存储管理" aria-label="Permalink to &quot;存储管理&quot;">​</a></h2><h3 id="存储模式" tabindex="-1">存储模式 <a class="header-anchor" href="#存储模式" aria-label="Permalink to &quot;存储模式&quot;">​</a></h3><p>SealChat 支持三种存储模式：</p><table tabindex="0"><thead><tr><th>模式</th><th>说明</th><th>适用场景</th></tr></thead><tbody><tr><td><strong>local</strong></td><td>本地文件存储</td><td>单机部署、小规模</td></tr><tr><td><strong>s3</strong></td><td>S3 兼容存储</td><td>大规模、需要 CDN</td></tr><tr><td><strong>auto</strong></td><td>自动选择</td><td>混合场景</td></tr></tbody></table><h3 id="本地存储" tabindex="-1">本地存储 <a class="header-anchor" href="#本地存储" aria-label="Permalink to &quot;本地存储&quot;">​</a></h3><p>默认存储位置：</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>./sealchat-data/upload/    # 附件</span></span>
<span class="line"><span>./static/audio/            # 音频</span></span>
<span class="line"><span>./data/exports/            # 导出文件</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="s3-存储配置" tabindex="-1">S3 存储配置 <a class="header-anchor" href="#s3-存储配置" aria-label="Permalink to &quot;S3 存储配置&quot;">​</a></h3><p>在 <code>config.yaml</code> 中配置：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">storage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">s3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  s3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    endpoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://s3.amazonaws.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    bucket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sealchat-files&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    region</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;us-east-1&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>环境变量：</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SEALCHAT_S3_ACCESS_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your_access_key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SEALCHAT_S3_SECRET_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">your_secret_key</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="s3-迁移" tabindex="-1">S3 迁移 <a class="header-anchor" href="#s3-迁移" aria-label="Permalink to &quot;S3 迁移&quot;">​</a></h3><p>从本地存储迁移到 S3：</p><ol><li>配置好 S3 连接</li><li>进入管理后台 → 存储迁移</li><li>选择迁移范围</li><li>开始迁移</li><li>等待完成</li></ol>`,26)])])}const u=s(t,[["render",l]]);export{c as __pageData,u as default};
